# Environment variables for MongoDB CRUD API

# ======================
# SERVER CONFIGURATION
# ======================
PORT=3000
HOST=0.0.0.0
NODE_ENV=production

# CORS Configuration
CORS_ORIGIN=*
CORS_CREDENTIALS=false

# Middleware Configuration
JSON_LIMIT=10mb
LOG_FORMAT=combined

# ======================
# DATABASE CONFIGURATION
# ======================
MONGODB_URI=mongodb://mongo:27017/crud_api
DATABASE_NAME=crud_api

# Database Connection Pool
DB_MAX_POOL_SIZE=10
DB_MIN_POOL_SIZE=2
DB_MAX_IDLE_TIME_MS=30000
DB_SERVER_SELECTION_TIMEOUT_MS=5000
DB_HEARTBEAT_FREQUENCY_MS=10000

# Database Reconnection
DB_MAX_RECONNECT_ATTEMPTS=5
DB_RECONNECT_INITIAL_DELAY=1000
DB_RECONNECT_MAX_DELAY=30000
DB_CONNECTION_MONITOR_INTERVAL=30000

# ======================
# API CONFIGURATION
# ======================
# Pagination
DEFAULT_PAGE_SIZE=10
MAX_PAGE_SIZE=100

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL=false

# CSV Export
CSV_MAX_EXPORT_RECORDS=100000
CSV_DELIMITER=,
CSV_QUOTE_CHAR="
CSV_ESCAPE_CHAR="

# ======================
# OPENAPI CONFIGURATION
# ======================
OPENAPI_TITLE=MongoDB CRUD REST API
OPENAPI_VERSION=1.0.0
OPENAPI_BASE_URL=http://localhost:3000
OPENAPI_SERVER_DESCRIPTION=API Server
OPENAPI_CONTACT_NAME=API Support
OPENAPI_CONTACT_EMAIL=support@example.com
OPENAPI_CONTACT_URL=
OPENAPI_LICENSE_NAME=MIT
OPENAPI_LICENSE_URL=https://opensource.org/licenses/MIT
OPENAPI_BEARER_FORMAT=JWT

# Additional servers (JSON array format)
# OPENAPI_ADDITIONAL_SERVERS=[{"url":"https://api.production.com","description":"Production Server"}]

# ======================
# WEBHOOK CONFIGURATION
# ======================
WEBHOOK_TIMEOUT=5000
WEBHOOK_MAX_RETRIES=3
WEBHOOK_RETRY_DELAY=1000
WEBHOOK_MAX_RETRY_DELAY=30000
WEBHOOK_DEFAULT_RATE_LIMIT=60
WEBHOOK_RATE_LIMIT_WINDOW_MS=60000
WEBHOOK_BACKOFF_MULTIPLIER=2

# ======================
# SCRIPT CONFIGURATION
# ======================
# Script Execution
SCRIPT_EXECUTION_TIMEOUT=30000
SCRIPT_MAX_MEMORY=128
SCRIPT_SANDBOXED=true

# Script Rate Limiting
SCRIPT_DEFAULT_RATE_LIMIT=30
SCRIPT_MAX_RETRIES=3
SCRIPT_BASE_DELAY_MS=1000
SCRIPT_MAX_DELAY_MS=30000

# Cron Configuration
SCRIPT_CRON_TIMEZONE=UTC
SCRIPT_MAX_CONCURRENT_JOBS=10

# ======================
# HEALTH CHECK CONFIGURATION
# ======================
HEALTH_ENDPOINT=/health
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000

# ======================
# SECURITY CONFIGURATION
# ======================
# Helmet Security Headers
SECURITY_CSP=true
SECURITY_COEP=true

# Authentication (optional)
AUTH_ENABLED=false
JWT_SECRET=
JWT_EXPIRATION=24h

# ======================
# DEVELOPMENT CONFIGURATION
# ======================
DEV_HOT_RELOAD=true
DEV_VERBOSE=false
DEV_MOCK_DATA=false
